# **RAID**

RAID(Redundant Array of Independent Disk 独立冗余磁盘阵列)

A, B, C, D, E and F     代表blocks(块)
p1, p2, and p3          代表parity(奇偶校验)

## RAID 0 （又称为Stripe或Striping－－分条）条带存储

即Data Stripping数据分条技术。其主要目标是效能，RAID 0将进来的数据分割成stripes然后平均分配到组内的每个硬盘，每个硬盘存储不同的数据，可以提高磁 盘的性能和吞吐量。RAID 0没有冗余或错误修复能力，成本低，要求至少两个磁盘，一般只是在那些对数 据安全性要求不高的情况下才被使用,并行操作使同一时间内磁盘读写速度提升

* 最少需要两块磁盘
* 数据条带式分布
* 没有冗余，性能最佳(不存储镜像、校验信息)
* 不能应用于对数据安全性要求高的场合

![raid 0](http://static.thegeekstuff.com/wp-content/uploads/2010/07/raid-0.png)

|  |  |
| :------: | :------: |
| 容错性 | 没有 |
| 热备盘选项 | 没有 |
| 随机写性能 | 高 |
| 需要的磁盘数 | 只需2个或2*N个（这里应该是多于两个硬盘都可以） |
| 典型应用 | 无故障的迅速读写，要求安全性不高，如图形工作站等 |

## RAID 1 （又称为Mirror或Mirroring－－镜像）

RAID 1称为磁盘镜像：采用两块硬盘互为镜像，在不影响性能情况下最大限度的保证系统的可靠性和可修复性上，具有很高的数据冗余能力，但磁盘利用 率为50%，故成本最高，多用在保存关键性的重要数据的场合。RAID 1的操作方式是把用户写入硬盘的数据百分之百地自动复制到另外一个硬盘上

* 最少需要2块磁盘
* 提供数据块冗余
* 性能好

![raid 1](http://static.thegeekstuff.com/wp-content/uploads/2010/07/raid-1.png)

## RAID 5 (条带技术+分布式校检)

（可以理解为是RAID 0和RAID 1的折衷方案，但没有完全使用RAID 1镜像理念，而是使用了“奇偶校验信息”来作为数据恢复的方式，与下面的RAID10不同,RAID 5 是一种存储性能、数据安全和存储成本兼顾的存储解决方案。raid5将数据分割成stripes但只平均分配到一个磁盘。奇偶校检会周期性修改，固奇偶校检信息平均分配到所有的磁盘上，其中一个损坏丢失的部分可以从其他数据以及奇偶校检计算出来。
raid 6与raid 5近似，但使用两个校验设备而不是一个，raid6可以容许两个硬盘损坏，最少需要4个设备，raid6别名双重奇偶校检条带

* 最少3块磁盘
* 数据条带形式分布
* 以奇偶校验作冗余
* 适合多读少写的情景，是性能与数据冗余最佳的折中方案

![raid 5](http://static.thegeekstuff.com/wp-content/uploads/2010/07/raid-5.png)

|  |  |
| :------: | :------: |
| 容错性 | 有 |
| 热备盘选项 | 有 |
| 随机写性能 | 低 |
| 需要的磁盘数 | 三个或更多 |
| 可用容量 | （n-1）/n的总磁盘容量（n为磁盘数） |
| 典型应用 | 随机数据传输要求安全性高，如金融、数据库、存储等 |

## RAID10也被称为镜象阵列条带

建立在raid1和raid0的基础上, 所以RAID 10的另一种会说法是 RAID 0+1。每两块硬盘做raid1，然后再将形成的低级阵列重新组合成raid0，RAID10提供100%的数据冗余，支持更大的卷尺寸

* 最少需要4块磁盘
* 先按RAID 0分成两组，再分别对两组按RAID 1方式镜像
* 兼顾冗余(提供镜像存储)和性能(数据条带形分布)
* 在实际应用中较为常用(尤其是数据库中)

![raid 10](http://static.thegeekstuff.com/wp-content/uploads/2010/08/raid10.png)

## RAID总结

常见Raid类型及基本特性,n代表磁盘数量

| raid级别 | 0 | 1 | 5 | 10 |
| :------: | :------: | :------: | :------: | :------: |
| 存储模式 | 条带化 | 镜像 | 条带化 分布式奇偶校检 | 将镜像盘再进行条带化存储 |
| 是否容错 | 否 | 是 | 是(RAID 5<RAID 1) | 是(RAID10＝RAID1) |
| 容错类型 | 否 | 复制 | 校检 | 复制 |
| 是否支持Hot Spare(热备) | 否 | 是 | 是 | 是 |
| 所需磁盘数量 | 2 | 2 | 至少3个 | 4,6,8 |
| 可用容量 | 100% | 50% | (n-1)/n | 50% |
| 数据冗余占用空间 | 无 | n-1 | 1个硬盘容量 | n/2 |
| 读性能 | 依赖硬盘数 | 中等 | 最慢 | 中等 |
| 随机写性能 | 最快 | 最慢 | 中等 | 中等 |
| 顺序写性能 | 最快 | 较慢 | 中等 | 最慢 |
| 典型应用 | 需要快速读写性能而无需数据冗余 | 较多的小数据读应用，并且具有数据冗余;如服务器和数据库存储等 | 较多的写较少的读操作，带有容错;是一种存储性能、数据安全和存储成本兼顾的存储解决方案 | 较多的读操作及随机写操作，较少的顺序写操作，带有容错，性能较高 |



## Software-RAID

